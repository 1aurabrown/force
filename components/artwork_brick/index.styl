@require '../stylus_lib'
@require '../artwork_save'

.artwork-brick
  &__image
    background-color gray-color
    position relative

    &__img
      position absolute
      top 0
      left 0
      width 100%
      vertical-align bottom
      // Rounding errors in placeholder calculation *may* cause 1px
      // of gray to peek out of the bottom of the image, outline in
      // white to compensate
      outline 1px solid white

    &__save
      position absolute
      right (gutter / 3)
      bottom @right

    &:hover
      .artwork-brick__image__save
      .artwork-brick__image__save > .artwork-save
        display block

  &__metadata
    serif('l-caption')
    margin distance(gutter / 2) 0 distance(gutter) 0
    lines = 5
    height (line-height-in-px('garamond-l-caption') * lines)
    overflow hidden

    &__line
      display block
      overflow ellipsis

      &, > a
        color gray-darker-color
        text-decoration none

    &__contact > a
      text-decoration underline

    &__artists
      font-weight bold
