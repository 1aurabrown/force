form.scontact-form.stacked-form
  .stacked-form-cell
    input( type='hidden', name='artwork', value= artwork.id )

    .scontact-artwork-details
      img( src=artwork.defaultImageUrl() )
      p= artwork.artistName()
      p!= artwork.titleAndYear()

  .stacked-form-cell
    label.avant-garde-form-label
      | Your message
    textarea.bordered-input.is-block(
      name='message'
      placeholder='Your message'
      rows='5'
      required
    )
      if contactGallery
        = defaultMessage
        = "\n\n"

  if user && user.isWithAnonymousSession()
    input( type='hidden', name='anonymous_session_id', value= user.id )

  if user && !user.isLoggedIn() && !user.isWithAnonymousSession()
    input( type='hidden', name='name', value= user.get('name') )
    input( type='hidden', name='email', value= user.get('email') )

  if user && user.get('name') && user.get('email')
    .scontact-from.stacked-form-cell
      | From: #{user.get('name')} <span>(#{user.get('email')})</span>
  else
    input.bordered-input(
      type='text'
      name='name'
      placeholder='Your full name'
      required
    )
    input.bordered-input(
      type='email'
      name='email'
      placeholder='Your email address'
      required
    )

    p.scontact-privacy
      | By clicking send, you accept our <a class='fine-faux-underline' href='/privacy', target='_blank'>Privacy Policy</a>.

  button.avant-garde-button-black
    | Send
