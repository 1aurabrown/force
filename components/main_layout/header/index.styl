@import '../../../components/stylus_lib'
@import '../../../components/search_bar'

#main-layout-header
  position absolute
  width 100%
  top 0
  left 0
  z-index 2
  background white
  border-bottom 1px solid gray-lighter-color

.mlh-navbar
  display flex
.mlh-navbar-cell
  white-space nowrap

// Leftmost cell
#main-layout-header-left
  flex 1
#main-layout-header-home-logo
  float left
  width home-logo-size
  height home-logo-size
  padding 10px
  font-size (home-logo-size - 20px) // default-icon-font-size
  border none
  &:after
    border-left none
#main-layout-search-bar-container
  float left
  height home-logo-size
  border-right 1px solid gray-lighter-color
  border-left @border-right

// Center/rightmost cell
#main-layout-header-center
#main-layout-header-right
  avant-garde()

// General link styles
.mlh-nav-link
  position relative
  display inline-block
  padding 16px 20px 14px 20px
  vertical-align middle
  text-decoration none
  font-size 13px
  border-right 1px solid gray-lighter-color
  &.is-active
    color purple-color
.mlh-top-nav-link
  @extends .mlh-nav-link
  &:after
    display block
    content ''
    position absolute
    top 0
    right 0
    bottom 0
    left 0
    opacity 0
    color transparent
    border 3px solid black
  &:hover
  &:focus
  &:active
    color purple-color
  &:hover:after
    opacity 1
// Post icon link
.mlh-post-link
  @extends .mlh-top-nav-link
  padding 10px 12px 10px 14px
  font-size default-icon-font-size
// Rightmost username dropdown wrapper
.mlh-user-name
  @extends .mlh-nav-link
  position relative
  min-width 130px
  text-align center
  border none
  white-space nowrap
  &:hover #main-layout-header-user-nav
    display block

// Rightmost username dropdown
#main-layout-header-user-nav
  display none
  position absolute
  top 0
  right 0
  left 0
  z-index 2
  background-color white
  // Faux borders
  &:before // Left border
  &:after // Top border
  a:last-child:after // Bottom border
    display block
    content ''
    position absolute
    background-color black
    z-index 3
  &:before // Left border
    top 0
    bottom 0
    left 0
    width 3px
  &:after // Top border
    top 0
    left 0
    width 100%
    height 3px
  a
    display block
    text-align center
    width 100%
    border none
    border-top 1px solid gray-lighter-color
    &:first-child
      border none
    &:last-child:after // Bottom border
      bottom 0
      left 0
      width 100%
      height 3px
    &:hover
      background-color gray-lightest-color

// Temporary welcome header
#main-layout-welcome-header
  position relative
  border-bottom 1px solid gray-lighter-color
#main-layout-welcome-header-aside
  position absolute
  top 0
  bottom 0
  left 0
  > .mlwha-outer
    display table
    height 100%
    > .mlwha-inner
      height 100%
      padding 0 50px
      vertical-align middle
      display table-cell
      text-transform uppercase
      letter-spacing 1px
      line-height 1.35
      font-size default-garamond-font-size - 1
#main-layout-welcome-logo
  display block
  font-size 44px
  line-height 1
  text-align center
  padding 20px 0
