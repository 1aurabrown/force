//- Hero Section
- hero = article.get('hero_section')
if hero
  case hero.type
    when 'video'
      != particle(hero.url)
    when 'image'
      img( src=resize(hero.url, { width: 1100 }) )
      if hero.caption
        p!= hero.caption

if article.get('contributing_authors').length > 0
  h2
    | By&nbsp;
    - var authors = article.get('contributing_authors')
    for author, i in authors
      a( href="#{sd.APP_URL}/#{author.profile_id}" )
        = author.name
      if (authors.length > 1) && (i === (authors.length - 2))
        | &nbsp;and&nbsp;
      else if (authors.length > 1) && (i < (authors.length - 1))
        | ,&nbsp;
else if article.get('author')
  h2
    a( href="#{sd.APP_URL}/#{article.get('author').profile_id}" )
      = article.get('author').name

//- Content
if article.strip('lead_paragraph')
  p!= article.get('lead_paragraph')
for section, i in article.get('sections')
  case section.type
    when 'text'
      p!= section.body
    when 'image'
      img( src=resize(section.url, { width: 500 }) )
      if section.caption
        p!= section.caption
    when 'video'
      != embed(section.url)
    when 'artworks'
      if section.artworks
        for artwork in section.artworks
          img(src=resize(artwork.image, { width: 500 } ))
          p= artwork.title + ", " + artwork.date + ". "
            br
            if artwork.artist
              = artwork.artist.name
            br
            if artwork.partner
              = artwork.partner.name
