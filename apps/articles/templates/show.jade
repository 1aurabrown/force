extends ../../../components/main_layout/templates/index
include ../../../components/article_figure/mixin
include ./share

block head
  include meta/article

append locals
  - assetPackage = 'articles'

block body
  #articles-show
    h1.large-garamond-header= article.get('title')
    #articles-lead-paragraph!= article.get('lead_paragraph')
    h2#articles-show-author= author.get('name')
    h2#articles-show-date
      = moment(article.get('published_at')).format('MMM Do, YYYY h:mm a')
    .articles-social
      +share(article.get('title'), article.get('thumbnail_image'))
    if article.get('sections')[0].type == 'slideshow'
      #articles-slideshow-container
        #articles-slideshow-inner
          include carousel
    for section, i in article.get('sections')
      .articles-section-container
        case section.type
          when 'text'
            .articles-section-text!= section.body
          when 'image'
            figure.articles-section-image
              img( src=resize(section.url, { width: 1100 }) )
              if section.caption
                figcaption!= section.caption
          when 'artworks'
            .articles-section-artworks.is-loading( data-layout=section.layout )
              .loading-spinner
              ul
                for id in section.ids
                  li( data-id=id )
          when 'video'
            .articles-section-video
              != embedVideo(section.url)
    .articles-social.add-bottom
      h2.articles-social__header Share this article
      +share(article.get('title'), article.get('thumbnail_image'))
  section#articles-footer
    h1 What to Read Next
    ul#articles-footer-list
      for article in footerArticles
        +article-figure(article, 220, false, false)
