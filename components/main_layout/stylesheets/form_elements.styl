@import '../../stylus_lib'

// Placeholder mixins
bordered-input-placeholder()
  garamond()
  font-size default-garamond-font-size
  color placeholder-color
  transition opacity 0.5s
bordered-input-placeholder--focus()
  opacity 0
bordered-input-placeholder--autofocus-focus()
  opacity 1

.avant-garde-form-label
  avant-garde()
  display block
  font-size 12px

.bordered-input
  margin 0
  padding 10px
  border 2px solid light-gray-border-color
  border-radius 0
  box-shadow none
  garamond()
  font-size default-garamond-font-size
  background-color transparent
  transition border-color 0.25s
  placeholder(bordered-input-placeholder)
  &:focus, &:active
    border-color highlight-color
    outline none
    transition border-color 0.5s
    placeholder(bordered-input-placeholder--focus)

  &:disabled
    border dotted 2px light-gray-border-color

  // Autofocused inputs should retain placeholders
  &[autofocus]:focus
    placeholder(bordered-input-placeholder--autofocus-focus)

  &[data-state=error]
  &.is-error
    border-color bad-red-color

  &.is-block
    display block
    width 100%

.typed-bordered-input
  position relative
  > span
    position absolute
    display block
    top 50%
    left 15px
    transform translateY(-50%)
    color light-gray-text-color
    pointer-events none
  > .bordered-input
    padding-left 30px

.bi-type-activated-placeholder
  position absolute
  margin-top -43px
  margin-left 12px
  z-index -1
  bordered-input-placeholder()
.bordered-input:valid + .bi-type-activated-placeholder
  bordered-input-placeholder--focus()

.bordered-select
  garamond()
  font-size 16px
  width 100%
  padding 10px
  border 2px solid light-gray-border-color
  border-radius 0px
  box-shadow none
  appearance none
  outline none
  margin-top 0px
  background-repeat no-repeat
  background-position right
  background-size 24px auto

// Textarea-specific
textarea.bordered-input
  resize none
  padding 10px
  appearance none

// On / Off Toggle Sliders
.artsy-toggle
  avant-garde()
  background-color white
  border 2px solid light-placeholder-color
  border-radius 15px
  color light-placeholder-color
  cursor pointer
  display inline-block
  line-height 1.15
  text-decoration none
  transition 'color, border-color' 0.2s
  width 56px
  &:focus, &:hover
    & + .artsy-toggle-label
      color highlight-color

  &::after
    content attr(data-state)
    display inline
    font-size 12px
    font-weight bold
    height 20px
    letter-spacing -1px
    margin-left 0
    transition margin-left 0.2s
    vertical-align middle
    width 20px

  .artsy-toggle-dot
    display inline
    font-size 30px
    left 0
    line-height 50%
    position relative
    top -1px
    transition left 0.2s
    vertical-align middle
    &::after
      content "\25CF"

  &[data-state='on']
    background-color highlight-color
    border-color highlight-color
    .artsy-toggle-dot
      color white
      left 33px
    &::after
      color white
      content attr(data-state)
      margin-left -10px

.artsy-toggle-separator
.artsy-toggle-label
  display inline-block
  margin-left 10px

.artsy-toggle-separator
  &::after
    content '\2026'

.artsy-toggle-label:hover
  color highlight-color
  cursor pointer

// Help Tooltips
.artsy-help-tip
  background-color transparent
  cursor help
  display inline
  font-family sans-serif
  font-size 10px
  height 14px
  margin-left 5px
  margin-top -2px
  max-width 620px
  position absolute
  width 14px
  text-align center
  transition background-color 0
  &::before
    background-color dark-gray-text-color
    border-radius 7px
    color white
    content '?'
    display inline-block
    font-size 12px
    font-weight bold
    height 14px
    line-height 1
    padding-top 1px
    vertical-align middle
    width 14px
  &:hover
    background-color black
    height auto
    padding-top 25px
    padding-left 7px
    margin-top -5px
    margin-left -5px
    transition background-color 0.5s
    z-index 4
    width auto
    &::before
      left 10px
      position absolute
      top 8px
    .artsy-help-tip-body
      color white
      display block
      transition color 0.5s
  .artsy-help-tip-body
    color transparent
    display none
    float left
    font-size 16px
    line-height 24px
    margin-top -25px
    margin-left -5px
    padding 32px
    p
      garamond()
      margin-bottom 0.25em
      text-align left
    a
      color white
      text-decoration underline
      &:hover
        text-decoration none

form.is-validated
  .bordered-input
    &:invalid
      @extends .bordered-input.is-error
