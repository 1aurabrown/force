- artworkSize = artworkSize || 'medium'
- imageWidth = imageWidth || false
- displayPurchase = displayPurchase || false
- showBlurbs = showBlurbs || false
- isAuction = isAuction || (set && set.get('type') === 'auction artworks') || false

figure.artwork-item( data-artwork=artwork.get('id') )
  .artwork-item-image-container
    a.artwork-item-image-link(href=artwork.href())
      if imageWidth
        include ./fixed_width_image
      else
        include ./variable_width_image
      case sd.SAVE_CONTROLS_SPLIT_TEST
        when 'drop down'
          include ../save_controls_drop_down/templates/controls
        when 'two button'
          include ../save_controls_two_btn/templates/controls
        when 'one button'
          include ../save_controls_one_btn/templates/controls
        default
          include ../save_controls/template
  figcaption.artwork-item-caption
    if artwork.has('artist')
      p.artwork-item-artist.artwork-item-overflow
        if artwork.get('artist').public
          a.faux-underline-hover( href=artwork.artistLink() )!= artwork.get('artist').name
        else
          != artwork.get('artist').name
    p.artwork-item-title.artwork-item-overflow!= artwork.titleAndYear()
    if artwork.partnerName()
      //- Note: if the <a..> is in a <p..> text-overflow ellipsis doesn't work
      p.artwork-item-partner.artwork-item-overflow
        if artwork.partnerLink()
          a.faux-underline-hover( href=artwork.partnerLink() )!= artwork.partnerName()
        else
          != artwork.partnerName()

    if artwork.saleMessage()
      p.artwork-item-sale-price!= artwork.saleMessage()

    if artwork.has('saleArtwork') && isAuction
      - var saleArtwork = artwork.get('saleArtwork')
      .artwork-item-auction-bid-status
        | #{saleArtwork.bidLabel()}: #{saleArtwork.currentBid()}
        if saleArtwork.get('bidder_positions_count') >= 1
          | &nbsp;(#{saleArtwork.bidCount()})

    if artwork.has('saleArtwork') || showBlurbs
      - var saleArtwork = artwork.get('saleArtwork')
      if artwork.has('blurb') && artwork.get('blurb')
        .artwork-item-blurb!= artwork.mdToHtml('blurb')
      else
        if saleArtwork && saleArtwork.get('user_notes')
          .artwork-item-blurb!= saleArtwork.mdToHtml('user_notes')
      a.artwork-item-more-info.avant-garde-button-black.is-tiny(
        href=artwork.href()
      ) More Info

    if isAuction
      a.artwork-item-bid.avant-garde-button-black.is-tiny(
        href=artwork.href()
      ) Bid

    if displayPurchase && !isAuction
      if artwork.get('acquireable')
        a.artwork-item-buy.avant-garde-button-black.is-tiny(
          href=artwork.href(), data-id=artwork.get('id')
        ) Buy
      else if artwork.get('sold')
        .artwork-item-sold.avant-garde-button-black.is-tiny Sold
      else if artwork.isContactable()
        a.artwork-item-contact-seller.avant-garde-button-black.is-tiny(
          href=artwork.href(), data-id=artwork.get('id')
        )!= artwork.contactLabel()
