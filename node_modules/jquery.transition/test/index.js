(function() {
  'use strict';

  var should, document, $;

  should = require('should');

  document = {
    createElement: function(name) {
      return {
        style: {
          WebkitTransition: function() {
             return 'webkitTransitionEnd';
          }
        }
      };
    }
  };

  $ = require('jquery');
  require('../index.js')($, document);

  describe('index.js', function() {
    it('should be defined on jQuery support object', function() {
      $.support.transition.should.have.property('end', 'webkitTransitionEnd');
    });

    it('simulates a transition ending on a DOM element', function(done) {
      var $div;

      $div = $('<div></div>');
      $div.on($.support.transition.end, function() {
        true.should.be.ok;
        done();
      }).emulateTransitionEnd(0);
    });
  });
})();
