@import '../../stylus_lib'

// Placeholder mixins
bordered-input-placeholder()
  garamond()
  font-size default-garamond-font-size
  color gray-dark-color
  transition opacity 0.5s
bordered-input-placeholder--focus()
  opacity 0
bordered-input-placeholder--autofocus-focus()
  opacity 1

.avant-garde-form-label
  avant-garde()
  display block
  font-size 12px

.bordered-input
  margin 0
  padding 10px
  border 2px solid gray-lighter-color
  border-radius 0
  box-shadow none
  garamond()
  font-size default-garamond-font-size
  background-color transparent
  transition border-color 0.25s
  placeholder(bordered-input-placeholder)
  &:focus, &:active
    border-color purple-color
    outline none
    transition border-color 0.5s
    placeholder(bordered-input-placeholder--focus)

  &:disabled
    border dotted 2px gray-lighter-color

  // Autofocused inputs should retain placeholders
  &[autofocus]:focus
  &.is-persistplaceholder:focus
    placeholder(bordered-input-placeholder--autofocus-focus)

  &[data-state=error]
  &.is-error
    border-color red-color

  &.is-block
    display block
    width 100%

.typed-bordered-input
  position relative
  display inline-block
  &.is-block
    &, & > .bordered-input
      display block
      width 100%
  > span
    position absolute
    display block
    top 50%
    left 15px
    transform translateY(-50%)
    color gray-dark-color
    pointer-events none
  > .bordered-input
    padding-left 30px

.bordered-select
  garamond()
  font-size 16px
  width 100%
  padding 10px
  border 2px solid gray-lighter-color
  border-radius 0px
  box-shadow none
  appearance none
  outline none
  margin-top 0px
  background-repeat no-repeat
  background-position right
  background-size 24px auto

// Textarea-specific
textarea.bordered-input
  resize none
  padding 10px
  appearance none

// On / Off Toggle Sliders
.artsy-toggle
  avant-garde()
  background-color white
  border 2px solid gray-lighter-color
  border-radius 15px
  color gray-color
  cursor pointer
  display inline-block
  line-height 17px
  text-decoration none
  transition 'color, border-color' 0.2s
  width 56px
  &:focus, &:hover
    & + .artsy-toggle-label
      color purple-color

  &::after
    content attr(data-state)
    display inline
    font-size 12px
    font-weight bold
    letter-spacing -1px
    margin-left 3px
    position relative
    transition margin-left 0.2s
    top -2px
    width 20px

  .artsy-toggle-dot
    display inline
    font-size 30px
    left 2px
    position relative
    top 2px
    transition left 0.2s
    &::after
      content "\25CF"

  &[data-state='on']
    background-color purple-color
    border-color purple-color
    .artsy-toggle-dot
      color white
      left 33px
    &::after
      color white
      content attr(data-state)
      margin-left -10px

.artsy-toggle-separator
.artsy-toggle-label
  display inline-block
  margin-left 10px

.artsy-toggle-separator
  &::after
    content '\2026'

.artsy-toggle-label:hover
  color purple-color
  cursor pointer

form.is-validated
  .bordered-input
    &:invalid
      @extends .bordered-input.is-error
