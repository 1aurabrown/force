extends ../../../components/main_layout/templates/index

block head
  include meta

append locals
  - assetPackage = 'location'

block body
  .main-layout-container
    h1.avant-garde-header-center
      em= name
      | &nbsp;Art Gallery Shows and Museum Exhibitions

    if fairs.length
      .list_section.fairs
        h2 Fairs
        for fair in fairs.models
          .fair
            .fair_image
              a.rsf-image.hoverable-image-link( href=fair.href() )
                img.hoverable-image( src= fair.organizerProfileImage() )
            .fair_meta
              h4.name
                a( href=fair.href() )= fair.get('name')
              .summary= fair.get('summary')

    - var otherHeader = "Current and Upcoming Shows"
    if showsOpeningThisWeek.length
      - otherHeader = "Other " + otherHeader
      .list_section.shows
        h2 Shows Opening This Week
        - var shows = showsOpeningThisWeek.slice(0, 2)
        include ../../../components/featured_shows/large
        - var shows = showsOpeningThisWeek.slice(2)
        include ../../../components/featured_shows/small

    if otherShows.length
      .list_section.shows
        h2= otherHeader
        if showsOpeningThisWeek.length
          - var shows = otherShows
          include ../../../components/featured_shows/small
        else
          - var shows = otherShows.slice(0, 2)
          include ../../../components/featured_shows/large
          - var shows = otherShows.slice(2)
          include ../../../components/featured_shows/small

        .see_more
          a.avant-garde-button-text( href='/shows' ) See All Shows

    if profiles.length
      .list_section.profiles
        h2 Galleries and Institutions
        .grid-4-up
          for profile in profiles.models
            - var partner = profile.get('owner')
            .grid-item
              include ../../../components/partner_profile_cover/template
              .location-profile-metadata
                h3.location-profile-name: a( href="/#{profile.id}" )= partner.name
                h4.location-profile-location= partner.type
          .see_more
            a.avant-garde-button-text( href='/partners' ) See All Partners

  .list_section.locations
    | Other Cities:
    = ' '
    each loc, i in otherLocations
      - var locSlug = loc[0], locName = loc[1].name
      a( href="/#{locSlug}" )= locName
      if i != otherLocations.length - 1
        = ', '
